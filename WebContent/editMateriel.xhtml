<ui:composition 
	  xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      template="/template/myTemplate.xhtml">
      
      <ui:define name="title">Création de matériel</ui:define>

	<ui:define name="form">
		<h:inputHidden value="#{editMateriel.materiel.id}" />
		Marque + Numéro de série: <h:inputText value="#{editMateriel.materiel.numSerie}"/><br />
		
		Article : <h:selectOneMenu value="#{editMateriel.materiel.article.id}">
			<f:selectItems value="#{editMateriel.listArticle}" var="a" itemValue="#{a.id}" itemLabel="#{a.description}" />
		</h:selectOneMenu><br/>
		
		Batiment : <h:selectOneMenu value="#{editMateriel.batimentID}">
			<f:selectItems value="#{editMateriel.listBatiment}" var="b" itemValue="#{b.id}" itemLabel="#{b.codeBatiment}" />
			<f:ajax render="updateEtage"/>
		</h:selectOneMenu><br/>
		
		<h:panelGroup id="updateEtage">
		Etage : <h:selectOneMenu value="#{editMateriel.etageID}">
			<f:selectItems value="#{editMateriel.listEtage}" var="e" itemValue="#{e.id}" itemLabel="#{e.codeEtage}" />
			<f:ajax render="updateSalle"/>
		</h:selectOneMenu><br/>
		</h:panelGroup>
		
		<h:panelGroup id="updateSalle">
		Salle : <h:selectOneMenu value="#{editMateriel.materiel.salle.id}">
			<f:selectItems value="#{editMateriel.listSalle}" var="s" itemValue="#{s.id}" itemLabel="#{s.codeSalle}" />
		</h:selectOneMenu><br/>
		</h:panelGroup>
		
		<h:commandButton value="sauver" action="#{editMateriel.saveMateriel}" />
	</ui:define>
</ui:composition>